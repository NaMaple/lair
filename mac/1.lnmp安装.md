> https://learnku.com/articles/35981
> # 1.安装redis
> ## 1.1.下载安装包
> https://redis.io/download
> ```
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket  ll
>  total 340112
>  -rw-r--r--@   1 yintianxiong  staff   151M  8 23 16:19 NavicatPremium1118.dmg
>  -rw-r--r--    1 yintianxiong  staff   3.4M  8 21 23:20 go-pear.phar
>  -rw-r--r--@   1 yintianxiong  staff   1.9M 10 30 01:03 redis-5.0.5.tar.gz
>  drwxr-xr-x  134 yintianxiong  staff   4.2K  8 23 15:09 swoole-src
> ```
> ## 1.2.解压
> ```
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket  tar -zxvf redis-5.0.5.tar.gz
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket  ll
>  total 340112
>  -rw-r--r--@   1 yintianxiong  staff   151M  8 23 16:19 NavicatPremium1118.dmg
>  -rw-r--r--    1 yintianxiong  staff   3.4M  8 21 23:20 go-pear.phar
>  drwxr-xr-x@  21 yintianxiong  staff   672B  5 16 00:07 redis-5.0.5
>  -rw-r--r--@   1 yintianxiong  staff   1.9M 10 30 01:03 redis-5.0.5.tar.gz
>  drwxr-xr-x  134 yintianxiong  staff   4.2K  8 23 15:09 swoole-src
> ```
> 
> ## 1.3.make
> ```
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket  cd redis-5.0.5
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/redis-5.0.5  make
> 
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/redis-5.0.5  ll
>  total 504
>  -rw-r--r--@   1 yintianxiong  staff   104K  5 16 00:07 00-RELEASENOTES
>  -rw-r--r--@   1 yintianxiong  staff    53B  5 16 00:07 BUGS
>  -rw-r--r--@   1 yintianxiong  staff   2.3K  5 16 00:07 CONTRIBUTING
>  -rw-r--r--@   1 yintianxiong  staff   1.5K  5 16 00:07 COPYING
>  -rw-r--r--@   1 yintianxiong  staff    11B  5 16 00:07 INSTALL
>  -rw-r--r--@   1 yintianxiong  staff   6.7K  5 16 00:07 MANIFESTO
>  -rw-r--r--@   1 yintianxiong  staff   151B  5 16 00:07 Makefile
>  -rw-r--r--@   1 yintianxiong  staff    20K  5 16 00:07 README.md
>  drwxr-xr-x@  12 yintianxiong  staff   384B 11  2 01:04 deps
>  -rw-r--r--@   1 yintianxiong  staff    60K  5 16 00:07 redis.conf
>  -rwxr-xr-x@   1 yintianxiong  staff   275B  5 16 00:07 runtest
>  -rwxr-xr-x@   1 yintianxiong  staff   280B  5 16 00:07 runtest-cluster
>  -rwxr-xr-x@   1 yintianxiong  staff   341B  5 16 00:07 runtest-moduleapi
>  -rwxr-xr-x@   1 yintianxiong  staff   281B  5 16 00:07 runtest-sentinel
>  -rw-r--r--@   1 yintianxiong  staff   9.5K  5 16 00:07 sentinel.conf
>  drwxr-xr-x@ 211 yintianxiong  staff   6.6K 11  2 01:05 src
>  drwxr-xr-x@  13 yintianxiong  staff   416B  5 16 00:07 tests
>  drwxr-xr-x@  19 yintianxiong  staff   608B  5 16 00:07 utils
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/redis-5.0.5  cd src
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/redis-5.0.5/src 
> ```
> 
> ## 1.4.redis.conf
> 配置文件，修改Redis端口
> 
> ## 1.5.开启redis服务
> ```
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/redis-5.0.5/src  ./redis-server
> 
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/redis-5.0.5/src  ./redis-cli
>  127.0.0.1:6379>
> ```
> # 2.swoole使用redis的前置条件
> ## 2.1.hiredis下载并且源码编译
> https://github.com/redis/hiredis/releases
> ```
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket  cd hiredis-0.14.0
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/hiredis-0.14.0  make -j
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/hiredis-0.14.0  make install
> ```
> ## 2.2.重新编译swoole
> ```
> ./configure --help //需要两个参数
> --with-php-config
> --enable-async-redis
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket/swoole-src   master  ./configure --with-php-config=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/bin/php-config --enable-async-redis
> 编译安装没有configure: WARNING: unrecognized options: --enable-async-redis
> 
> 检查是否支持异步redis
> yintianxiong@yintianxiongdeMacBook-Pro  ~/Downloads/softpacket  php --ri swoole
> async_redis => enabled
> ```
> 
> https://wiki.swoole.com/wiki/page/p-async.html
> 异步模块在4.3后移除，需要单独安装swoole-async扩展。
> ## 2.3.swoole 关闭http服务
> ```
> ps aux|grep http_server.php
> yintianxiong     55185   0.0  0.0  4383504    328 s001  S+    5:10上午   0:00.00 php http_server.php
> yintianxiong     55184   0.0  0.0  4384528    308 s001  S+    5:10上午   0:00.00 php http_server.php
> yintianxiong     55183   0.0  0.0  4384528    320 s001  S+    5:10上午   0:00.00 php http_server.php
>  
> ps aux|grep http_server.php |awk '{print $2}'
> 55185
> 55184
> 
> ps aux|grep http_server.php |awk '{print "kill -9 "$2}'
> 
> ```
> ##3.nginx
> ```
> /**
>  * Nginx配置文件
>  */
> #总配置
> /usr/local/etc/nginx/nginx.conf
> #虚拟主机
> /usr/local/etc/nginx/servers
> #重启服务
> brew services restart nginx
> #关闭
> brew services stop nginx
> #开启
> brew services start nginx
> #查看Nginx运行状态
> ps -ef | grep nginx
> 
> #错误日志
> /usr/local/var/log/nginx/access.log
> /usr/local/var/log/nginx/error.log
> ```
>
>##4.php
> ```
> #查看PHP运行状态
> ps -ef | grep php-fpm
> #开启
> brew services restart php
> ```
